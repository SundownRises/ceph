<div class="cds--side-panel" [class.active]="isOpen">
  <header class="cds--side-panel__header">
    <h2 class="cds--side-panel__title">
      <svg cdsIcon="notification" size="20"></svg>
      Notifications
    </h2>
    <button class="cds--side-panel__close" (click)="close()">
      <svg cdsIcon="close" size="20"></svg>
    </button>
  </header>

  <div class="cds--side-panel__body">
    <div class="cds--side-panel__controls">
      <ibm-toggle
        [checked]="doNotDisturb"
        (change)="toggleDoNotDisturb()"
        label="Do not disturb">
      </ibm-toggle>

      <button
        cdsButton="ghost"
        size="sm"
        class="dismiss-all"
        (click)="dismissAll()">
        <svg cdsIcon="trash-can" size="20" class="cds--btn__icon"></svg>
        Dismiss all
      </button>
    </div>

    <div class="cds--side-panel__content">
      <!-- Executing Tasks -->
      <div class="executing-tasks" *ngIf="executingTasks.length > 0">
        <h3 class="section-title">Running Tasks</h3>
        <div class="task-item" *ngFor="let task of executingTasks">
          <div class="task-content">
            <div class="task-description">{{ task.description }}</div>
            <div class="task-progress">
              <div class="progress-indicator"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty state -->
      <div class="empty-state" *ngIf="notifications.length === 0 && executingTasks.length === 0">
        <svg cdsIcon="notification" size="32"></svg>
        <p>No notifications to display</p>
      </div>

      <!-- Notifications list -->
      <div class="notifications-list" *ngIf="notifications.length > 0">
        <div class="notification-item"
             *ngFor="let notification of notifications; let i = index"
             [ngClass]="'type-' + getNotificationIcon(notification.type)">
          <div class="notification-icon">
            <svg [cdsIcon]="getNotificationIcon(notification.type)" size="20"></svg>
          </div>
          <div class="notification-content">
            <div class="notification-header">
              <h3 class="notification-title">{{ notification.title }}</h3>
              <button class="notification-dismiss" (click)="dismiss(i)">
                <svg cdsIcon="close" size="16"></svg>
              </button>
            </div>
            <p class="notification-message" [innerHTML]="notification.message"></p>
            <div class="notification-meta">
              <span class="notification-time">{{ notification.timestamp | date:'medium' }}</span>
              <span class="notification-application" *ngIf="notification.application">
                {{ notification.application }}
              </span>
              <div class="notification-actions" *ngIf="notification.type === 1">
                <button *ngIf="!notification.alertSilenced"
                        class="silence-btn"
                        (click)="silence(notification)">
                  Silence
                </button>
                <button *ngIf="notification.alertSilenced"
                        class="expire-btn"
                        (click)="expire(notification)">
                  Expire
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 